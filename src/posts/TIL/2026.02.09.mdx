---
title: "Claude - permission 사용해 보기"
publishedAt: "2026-02-09"
summary: "permission 사용해 보기"
---

## permission 사용해 보기
어제 permission 으로 실행된 위치뿐만 아니라, 다른 경로를 참조할 수 있다는 사실을 알게 되었다. 
마침 업무 중 실습해볼 수 있는 상황이 주어져 테스트 해보았다.

상황: 
swagger 기반 type codegen 이 있고, 생성된 명세를 기반으로 useQuery hook 을 wrap 하는 도구가 있다. (짧은 설명. 의존성 격리 후 교체 용이성을 확보하기 위함.)
wrap 하는 도구에 기능을 추가해야하는데, wrap 은 주어진 타입 정보를 읽어 새로운 파일을 만들어 내기에, codegen 내부 구현에 크게 의존하고 있다.
그래서, 컨텍스트를 쉽게 주입하기 위해 permission 에서 workspace 를 추가해봤다. 기존에는 경로를 직접 claude 에게 주입해주어야 했는데, 이제 그럴 필요가 없어졌다.

굳이 정리해보자면 아래 효과가 있는 것 같다.
@ 로 파일을 지정하는 것 vs @ 없이 경로 첨부하는 것 (후자는 경로를 찾는 과정에서 Context 가 오염될까 ? 심리적인 꺼려짐이 있음)
지정할 필요없이 알아서 찾는 것 vs 매번 @ 로 파일을 지정하는 것 (후자는 귀찮음)



## Agent 기본 룰 점검
우리 팀은 최근 Agent 룰을 수정해보며 테스트하고있다.
그 중 Agent 가 코드를 수정하고 나서 항상 실행되는 검증 로직이 있는데, 몇 가지 불편한 점이 있어 수정하게 되었다.

검증 루프는 다음과 같다. 

- build
- lint
- type
- test

불편한 점은 작은 단위 수정에도 항상 build가 실행되는데, 적어도 분 단위가 걸리는 작업이라 기다리는 시간이 누적되고있다. 
그리고 모노레포 기준 불필요하게 출력로그가 쌓이고 있다.

제거해도 될까? 

1. 커밋 전 허스키는 build 를 수행하지 않는다. lint, type, test 만 수행해도 런타임 이슈는 발생하지 않을 것이다.
2. PR 생성시 CI 단계에서 build 를 수행하므로, 제거해도 문제없다.
3. 팀원들의 의견을 들어보니, 동일한 의견을 가지고 있다.

위 의견을 바탕으로 build 를 제거하고, 나머지 옵션은 모노레포 전체가 아닌 변경된 패키지만 수행하도록 수정했다.
또한 실패한 경우에만 로그를 출력하도록 수정하여 Agent 의 Context 가 오염되지 않도록 수정했다.

Turbo 의 --output-logs=errors-only 옵션을 사용하면 실패한 경우에만 로그를 출력하도록 설정할 수 있다.